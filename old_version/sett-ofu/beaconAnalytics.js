(function(){function f(b){var c=window.document.createElement("a");c.href=b;b=c.hostname.split(".");c=b.length-1;var a=b[c-1],d=b[c];return(3<=c&&5>=(a+d).length?b[c-2]+".":"")+a+"."+d}var e=window.location.protocol+"//"+window.location.host+window.location.pathname,k=f(e),g=[];window.beaconAnalytics={initiator:e,options:{},engine:{},processors:g};var l=window.fetch;g.push(l);window.fetch=function(b,c){var a=c;try{if(f(b)==k){void 0==a&&(a={});if(void 0==a.headers)a.headers={};else if(a.headers instanceof Headers){for(var d={},n=a.headers.entries(),h;!(h=n.next()).done;)d[h.value[0]]=h.value[1];a.headers=d}else a.headers=JSON.parse(JSON.stringify(a.headers));a.headers["x-ba-from"]=btoa(e)}}catch(p){}return l(b,a)};var m=XMLHttpRequest.prototype.open;g.push(m);XMLHttpRequest.prototype.open=function(){m.apply(this,arguments);try{f(arguments[1])==k&&this.setRequestHeader("x-ba-from",btoa(e))}catch(b){}}})();